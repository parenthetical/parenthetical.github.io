<!DOCTYPE html>
<html lang="en">
  	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="generator" content="Hugo 0.111.3">
		<title>2023-06-18 - Adriaan Leijnse</title>

		<meta name="description" content="It&rsquo;s been a while since I wrote here! I attended the GHC Contributors Workshop and ZurHac in the meanwhile.
GHC Contributors workshop ZuriHac Ken Micklass Loved Conal&rsquo;s talk I added a &ldquo;poll counter&rdquo; to my implementation so that I can check how many times events are checked for occurrence/waiting. This will make sure optimizations to the graph traversal algorithm are obvious.
I&rsquo;ve now got a simple FRP implementation without any graph traversal optimizations, all events are polled at every frame.">


		
	
		




<link rel="stylesheet" href="/css/ui.css">

	
		

		<link  rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono|Lato|Raleway">

		
	</head>

  <body>
    <header class="container no-print">
      <nav id="navbar"
           style="
                  margin-bottom: 3rem;
                  padding-top: 1rem;
                  display: flex;
                  flex-wrap: wrap;
                  align-items: flex-end;
                  column-gap: 1.7rem;
                  "             >
        <a href="/"
           >
          <h1 style="
                     margin: 0.2rem 0;
                     padding: 0;
                     font-size: 1.6rem;
                     font-family: roman;
                     color: #777;
                     ">
            Adriaan Leijnse
          </h1>
        </a>
        <ul>
          <li>
            <a href="/foc-ideas/"
               
               >
              Future of Coding
            </a>
          </li><li>
            <a href="/journal/"
               
               class="active"
               
               >
              Journal
            </a>
          </li><li>
            <a href="/papers/"
               
               >
              Papers
            </a>
          </li></ul>
      </nav>
    </header>
    <main class="container">

<article>
  <header>
    <hgroup id="brand">
      <h1>
        Journal entry for 
	
        
	<time datetime="2023-06-18 00:00:00 &#43;0000 UTC">June 18, 2023</time>
        
	<span class="no-print">
	  <span>
      </h1>
    </hgroup>
    <hr class="sep" />
  </header>
  <p>It&rsquo;s been a while since I wrote here!
I attended the GHC Contributors Workshop and ZurHac in the meanwhile.</p>
<ul>
<li>GHC Contributors workshop</li>
<li>ZuriHac</li>
<li>Ken Micklass</li>
<li>Loved Conal&rsquo;s talk</li>
</ul>
<p>I added a &ldquo;poll counter&rdquo; to my implementation so that I can check how many times events are checked for occurrence/waiting.
This will make sure optimizations to the graph traversal algorithm are obvious.</p>
<p>I&rsquo;ve now got a simple FRP implementation without any graph traversal optimizations, all events are polled at every frame.
I&rsquo;m using Reflex&rsquo; test suite as a base for tests, that&rsquo;s been very handy.</p>
<p>My implementation uses <code>occurs</code> and <code>nowToEvent</code> functions to implement almost any function:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-haskell" data-lang="haskell"><span class="line"><span class="cl"><span class="nf">occurs</span> <span class="ow">::</span> <span class="kt">Event</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="kt">Now</span> <span class="p">(</span><span class="kt">Maybe</span> <span class="n">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">nowToEvent</span> <span class="ow">::</span> <span class="kt">Now</span> <span class="p">(</span><span class="kt">Maybe</span> <span class="n">a</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="kt">Event</span> <span class="n">a</span>
</span></span></code></pre></div><p>For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-haskell" data-lang="haskell"><span class="line"><span class="cl"><span class="nf">never</span> <span class="ow">=</span> <span class="n">nowToEvent</span> <span class="p">(</span><span class="n">pure</span> <span class="kt">Nothing</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">coincidence</span> <span class="ow">=</span> <span class="n">nowToEvent</span> <span class="o">.</span> <span class="n">runMaybeT</span> <span class="o">.</span> <span class="p">(</span><span class="kt">MaybeT</span> <span class="o">.</span> <span class="n">occurs</span> <span class="o">&lt;=&lt;</span> <span class="kt">MaybeT</span> <span class="o">.</span> <span class="n">occurs</span><span class="p">)</span>
</span></span></code></pre></div><p>This is easy with the pull based system I have now, but it will be interesting to see whether this interface will survive implementing efficient graph traversal the way it&rsquo;s done in Reflex.</p>

</article>
<nav class="no-print post-nav">
  
  <a class="prev-post" href="https://aidy.dev/journal/2023-06-07/">
    <img class="icon-text" src="/img/prev.svg"/>2023-06-07</a>
  
  
  <a class="next-post" href="https://aidy.dev/journal/2023-06-30/">2023-06-18<img class="icon-text" src="/img/next.svg"/>
  </a>
  
</nav>





		        <hr class="bottom-sep" />
		</main>
		<footer class="container no-print">
			<div class="u-footer">
				
<a href="https://github.com/parenthetical"><img class="icon-zocial" src="/img/github.svg" alt="Github"/></a>
<a href="https://twitter.com/aidylns"><img class="icon-zocial" src="/img/twitter.svg" alt="Twitter"/></a>
<a href="https://aidy.dev/index.xml" target="_blank"><img class="icon-zocial" src="/img/feed.svg" alt="Feed"></a>

			</div>
		</footer>
		
   </body>
<script type="text/javascript"
  src="/tex-mml-chtml.js">
</script>
</html>

